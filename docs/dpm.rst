
===================================
EWoC Sentinel-1 processor DPM
===================================

Detail processing model
########################

The EWoC Sentinel-1 processor is based on the S1 Tiling processor described `here <https://labo.obs-mip.fr/multitemp/s1-tiling-on-demand-orthrectification-of-sentinel-1-images-on-sentinel-2-grid/>`_.

The source code of S1 Tiling is hosted `here <https://gitlab.orfeo-toolbox.org/s1-tiling/s1tiling>`_ and the official documentation is available `here <https://s1-tiling.pages.orfeo-toolbox.org/s1tiling/latest/>`_.
S1 Tiling is based on several C++ applications provided by `OTB <https://www.orfeo-toolbox.org/>`_:

* `SARCalibration <https://www.orfeo-toolbox.org/CookBook/Applications/app_SARCalibration.html>`_
* `OrthoRectification <https://www.orfeo-toolbox.org/CookBook/Applications/app_OrthoRectification.html>`_

The minimal OTB used in the EWoC S1 processor is 7.4.0.

The minimal version of S1 Tiling used in the EWoC S1 processor  is 0.2.rc6.

Differences between EWoC Sentinel-1 processor and SNAP
#######################################################

Based on analysis of OTB applications and S1Tiling, we have identified two main differences between our code and SNAP GPT based:

* Management of low values in thermal noise removal: OTB follows the denoising procedure described in the `S1 MPC related document <https://sentinels.copernicus.eu/web/sentinel/user-guides/sentinel-1-sar/document-library/-/asset_publisher/1dO7RF5fJMbd/content/thermal-denoising-of-products-generated-by-the-sentinel-1-ipf>`_ 
  which recommends to clip to 0 the negative values generated by Eq-1 of the document. SNAP prefers in this case to keep the initial value and not perform denoising for this pixel.  

* Computation error in SNAP for Sentinel-1 calibration as described `here <https://forum.step.esa.int/t/sentinel-1-grd-sigma0-calibration-wrong-output-values/31670>`_
